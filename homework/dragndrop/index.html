<!DOCTYPE html>
<html>

<head>
    <meta charset=UTF-8>
    <title>drag&amp;drop</title>
</head>

<body style='min-height: 100vh'>
    <img src='http://fe.it-academy.by/Sites/0000007/sax.jpg'>
    <img src='http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png' width=100 style='vertical-align: 20px'>
    <img src='http://fe.it-academy.by/Sites/0000007/Man-and-woman.png' width=150>
    <img src='http://fe.it-academy.by/Sites/0000007/No_smoking.png' style='padding-left: 50px'>

    <script>
        // здесь ваш код
        window.addEventListener('load', function () {
            const images = document.querySelectorAll('img')

            let draggedImage = null
            let newX, newY

            const topZIndex = images.length - 1
            const initialPositions = []

            images.forEach(image => {
                const rect = image.getBoundingClientRect()
                initialPositions.push({
                    left: rect.left + window.scrollX,
                    top:  rect.top + window.scrollY
                })
            });

            images.forEach((image, index) => {
                image.style.position = 'absolute'
                image.style.cursor   = 'grab'
                image.style.zIndex   = index

                image.style.left = initialPositions[index].left + 'px'
                image.style.top = initialPositions[index].top + 'px'

                image.addEventListener('mousedown', (eo) => {
                    eo.preventDefault()
                    draggedImage = image

                    newX = eo.pageX - parseFloat(draggedImage.style.left)
                    newY = eo.pageY - parseFloat(draggedImage.style.top)
                    
                    const oldZIndex = parseInt(draggedImage.style.zIndex)
                    if (oldZIndex === topZIndex) {
                        draggedImage.style.cursor = 'grabbing'
                        return
                    }

                    images.forEach(otherImage => {
                        const currentZ = parseInt(otherImage.style.zIndex)
                        if (currentZ > oldZIndex) {
                            otherImage.style.zIndex = currentZ - 1
                        }
                    })

                    draggedImage.style.zIndex = topZIndex
                    image.style.cursor = 'grabbing'

                }, false);

            });

            document.addEventListener('mouseup', (eo) => {
                if (draggedImage) {
                    //eo.preventDefault()
                    
                    draggedImage.style.cursor = 'grab'
                    draggedImage = null
                }

            }, false);

            document.addEventListener('mousemove', (eo) => {
                if (draggedImage) {
                    eo.preventDefault()

                    draggedImage.style.left = `${eo.pageX - newX}px`
                    draggedImage.style.top  = `${eo.pageY - newY}px`
                }
                
            }, false);
        });
    </script>

</body>

</html>