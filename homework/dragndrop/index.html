<!DOCTYPE html>
<html>

<head>
    <meta charset=UTF-8>
    <title>drag&amp;drop</title>
</head>

<body style='min-height: 100vh'>
    <img src='http://fe.it-academy.by/Sites/0000007/sax.jpg'>
    <img src='http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png' width=100 style='vertical-align: 20px'>
    <img src='http://fe.it-academy.by/Sites/0000007/Man-and-woman.png' width=150>
    <img src='http://fe.it-academy.by/Sites/0000007/No_smoking.png' style='padding-left: 50px'>

    <script>
        // здесь ваш код
        document.addEventListener('DOMContentLoaded', function () {
            const images = document.querySelectorAll('img')

            let draggedImage = null
            let startX, startY

            const imageTransforms = {};
            const topZIndex = images.length - 1

            images.forEach((image, index) => {
                const imageId = 'drag-img-' + index
                image.id = imageId

                imageTransforms[imageId] = { x: 0, y: 0 }

                image.style.position = 'relative'
                image.style.cursor = 'grab'
                image.style.zIndex = index;

                image.style.transform = 'translate(0px, 0px)';

                image.addEventListener('mousedown', (eo) => {
                    eo.preventDefault()
                    draggedImage = image

                    startX = eo.clientX
                    startY = eo.clientY
                    
                    const oldZIndex = parseInt(draggedImage.style.zIndex)
                    if (oldZIndex === topZIndex) {
                        draggedImage.style.cursor = 'grabbing'
                        return
                    }

                    images.forEach(otherImage => {
                        const currentZ = parseInt(otherImage.style.zIndex)
                        if (currentZ > oldZIndex) {
                            otherImage.style.zIndex = currentZ - 1
                        }
                    });

                    draggedImage.style.zIndex = topZIndex
                    image.style.cursor = 'grabbing'

                }, false);

            });

            document.addEventListener('mouseup', (eo) => {
                if (draggedImage) {
                    const deltaX = eo.clientX - startX;
                    const deltaY = eo.clientY - startY;

                    const currentTransform = imageTransforms[draggedImage.id];

                    currentTransform.x += deltaX;
                    currentTransform.y += deltaY;

                    draggedImage.style.cursor = 'grab';
                    draggedImage = null;
                }

            }, false);

            document.addEventListener('mousemove', (eo) => {
                if (draggedImage) {
                    eo.preventDefault()

                    const deltaX = eo.clientX - startX
                    const deltaY = eo.clientY - startY

                    const currentTransform = imageTransforms[draggedImage.id]

                    const newX = currentTransform.x + deltaX
                    const newY = currentTransform.y + deltaY

                    draggedImage.style.transform = `translate(${newX}px, ${newY}px)`
                }
                
            }, false);
        });
    </script>

</body>

</html>